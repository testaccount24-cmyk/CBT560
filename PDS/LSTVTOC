//BC0THORT JOB (1152002-9800039,,TMVS01-UR-XXXX),'DTHORNTON',CLASS=V,
//   MSGCLASS=Y,NOTIFY=BC0THOR,REGION=4M
//JESOUT OUTPUT GROUPID=02A,DEFAULT=YES,JESDS=ALL,
//   PAGEDEF=GRYBIG,FORMDEF=GRYBIG
//*******************************************************************
//*                 BC0THOR.PDS.JCL(LSTVTOC)                        *
//*******************************************************************
//* LSTVTOC1 SEARCHES IT'S VTOC FOR DD CARDS WHOSE NAMES BEGIN WITH *     000000
//* VTOC. WHEN FOUND, THE DDNAME IS MOVED TO THE VTOC DCB DDNAME    *     000000
//* FIELD, AND THE JFCB IS READ. THE DSNAME FIELD OF THE JFCB IS SET*     000000
//* TO ALL HEX 04'S TO PERMIT OPENING THE VTOC, AS THE FORMAT 4 DSCB*   E 000000
//* DEFINES THE VTOC EXTENTS. THE VTOC IS THEN READ AS FOLLOWS: THE *   E 000000
//* FORMAT 4 DSCB IS READ, THEN THE CHAIN OF FORMAT 6 DSCB'S POINTED*   4 000000
//* TO BY THE FORMAT 4 DSCB, THEN THE FORMAT 5 DSCB WHICH FOLLOWS   *   4 000001
//* THE FORMAT 4 DSCB IS READ FOLLOWED BY THE FORMAT 5 DSCB CHAIN.  *   N 000001
//* THE FOREGOING RECORDS ARE WRITTEN OUT AS RECEIVED. AT THE END OF*   N 000001
//* THE FORMAT 5 DSCB CHAIN, THE DATA SET DSCB'S ARE READ AND USED  *     000001
//* TO LOCATE THEIR ASSOCIATED FORMAT 2 AND 3 DSCB'S. ALL OUTPUT    *     000001
//* RECORDS ARE FORMATTED WITH A 60 BYTE SORT FIELD.                *     000001
//*******************************************************************
//LSTVTOC1 EXEC PGM=LSTVTOC1
//STEPLIB  DD DSN=BC0THOR.LOAD.LOAD,DISP=SHR
//SYSUDUMP DD SYSOUT=(A,,DUMP)
//OUTPUT1  DD DSN=&&LSTVTOC1,DISP=(NEW,PASS,DELETE),UNIT=DISK,
//            SPACE=(CYL,(3,1),RLSE),
//            DCB=(LRECL=210,RECFM=FB,BLKSIZE=5880)
//PRINT1   DD SYSOUT=*
//VTOC1    DD UNIT=DISK,DISP=SHR,VOL=SER=SP4RES
//*
//*
//*
//LVSORT1 EXEC PGM=SORT33,PARM='CORE=MAX,MSG=AP'
//SORTLIB  DD DSN=SM01.SORTLIB,DISP=SHR
//SYSOUT   DD SYSOUT=*
//SORTIN   DD DSN=&&LSTVTOC1,DISP=(OLD,DELETE,DELETE)
//SORTOUT  DD DSN=&&LVSORT1,DISP=(NEW,PASS,DELETE),UNIT=DISK,
//            SPACE=(CYL,(2,1),RLSE),
//            DCB=(RECFM=FB,LRECL=210,BLKSIZE=5880)
//SORTWK01 DD UNIT=DISK,SPACE=(CYL,3,,CONTIG)
//SORTWK02 DD UNIT=DISK,SPACE=(CYL,3,,CONTIG),SEP=SORTWK01
//SORTWK03 DD UNIT=DISK,SPACE=(CYL,3,,CONTIG)
//SORTWK04 DD UNIT=DISK,SPACE=(CYL,3,,CONTIG),SEP=SORTWK03
//SYSIN DD *
 SORT FIELDS=(1,53,CH,A)
//*******************************************************************
//* LSTVTOC2 READS THE SORTED VTOC FILE CREATED BY LSTVTOC1 AND     *
//* SORTED IN DSNAME-INITIAL VOLUME-VOLUMESEQUENCE-SEQUENCE ORDER BY*
//* LVSORT1.  THE FILE ORDER WILL BE (1) ALL FORMAT 4 DSCB'S, (2)   *
//* ALL FORMAT 5 DSCB (3) ALL FORMAT 6 DSCB'S, (4) DATA SET DSCB'S  *
//* IN DSNAME ORDER. WITHIN EACH DATA SET, THE DSCB'S ARE GROUPED BY*
//* VOLUME, IN VOL SEQ ORDER.  FOR EACH VOLUME, THE DSCB'S ARE IN   *
//* FORMAT 2, FORMAT 1, FORMAT 3 ORDER ALL DSCB'S FOR A DATA SET ARE*
//* READ, AND APPLICABLE DATA IS STRIPPED THEN THE DATA SET         *
//* CHARACTERISTICS AND SPACE UTILIZATION IS PRINTED.  AN OUTPUT    *
//* FILE IS WRITTEN WHICH CONTAINS ONE RECORD PER EXTENT WITH DATA  *
//* SET NAME AND EXTENT INFORMATION.                                *
//*******************************************************************
//LSTVTOC2 EXEC PGM=LSTVTOC2
//STEPLIB  DD DSN=BC0THOR.LOAD.LOAD,DISP=SHR
//SYSUDUMP DD SYSOUT=(A,,DUMP)
//INPUT1   DD DSN=&&LVSORT1,DISP=(OLD,DELETE,DELETE)
//PRINT1   DD SYSOUT=*
//OUTPUT1  DD DSN=&&LSTVTOC2,DISP=(NEW,PASS,DELETE),UNIT=DISK,
//            SPACE=(CYL,(2,1),RLSE),
//            DCB=(RECFM=FB,LRECL=160,BLKSIZE=5920)
//*
//*
//*
//LVSORT2 EXEC PGM=SORT33,PARM='CORE=MAX,MSG=AP'
//SORTLIB  DD DSN=SM01.SORTLIB,DISP=SHR
//SYSOUT   DD SYSOUT=*
//SORTIN   DD DSN=&&LSTVTOC2,DISP=(OLD,DELETE,DELETE)
//SORTOUT  DD DSN=&&LVSORT2,DISP=(NEW,PASS,DELETE),UNIT=DISK,
//            SPACE=(CYL,(2,1),RLSE),
//            DCB=(RECFM=FB,LRECL=160,BLKSIZE=5920)
//SORTWK01 DD UNIT=DISK,SPACE=(CYL,2,,CONTIG)
//SORTWK02 DD UNIT=DISK,SPACE=(CYL,2,,CONTIG),SEP=SORTWK01
//SORTWK03 DD UNIT=DISK,SPACE=(CYL,2,,CONTIG)
//SORTWK04 DD UNIT=DISK,SPACE=(CYL,2,,CONTIG),SEP=SORTWK03
//SYSIN DD *
 SORT FIELDS=(55,6,CH,A,47,4,CH,A)
//*******************************************************************
//* THIS PROGRAM READS THE FILE OUTPUT FROM RUX1022 AFTER IT IS     *
//* SORTED IN ORDER BY VOLUME SERIAL NBR AND BEGINNING EXTENT       *
//* ADDRESS. ONE RECORD OCCURS FOR EACH EXTENT ON THE PACK. A DISK  *
//* PACK MAP IS PRINTED FOR EACH INPUT VOLUME.                      *
//*******************************************************************
//LSTVTOC3 EXEC PGM=LSTVTOC3
//STEPLIB  DD DSN=BC0THOR.LOAD.LOAD,DISP=SHR
//SYSUDUMP DD SYSOUT=(A,,DUMP)
//PRINT1   DD SYSOUT=*
//INPUT1   DD DSN=&&LVSORT2,DISP=(OLD,DELETE,DELETE)
