//BC0THORD JOB (1152002-9800039,,TMVS01-UR-XXXX),'DTHORNTON',CLASS=V,
//   MSGCLASS=Y,NOTIFY=BC0THOR,REGION=104M
//JESOUT OUTPUT GROUPID=02A,DEFAULT=YES,JESDS=ALL,
//   PAGEDEF=GRYBIG,FORMDEF=GRYBIG
//*******************************************************************
//*                 BC0THOR.PDS.JCL(CSECMCH2)                       *
//* FOLLOWS THE CSECTMCH PROGRAM TO CONTINUE TRYING TO MATCH THE    *
//* ENDEVOR ELEMENTS TO LOAD LIBRARY MEMBERS.                       *
//*TEST0: (UNMCHCS FILE ONLY) IF THERE ARE MULTIPLE MEMBER SEGMENTS *
//*       THE RECORD IS WRITTEN WITH COMPARE CODE = 0 AND THE NEXT  *
//*       RECORD IS READ.                                           *
//*TEST1: ELEMENT NAME IN THE UNMCHEL RECORD IS COMPARED TO THE     *
//*       RECORD HAVING THE LOWER VALUE IS WRITTEN WITH COMPARE     *
//*       CODE SET TO 1 AND THE NEXT RECORD IN THAT FILE IS READ.   *
//*TEST2: THE ELEMENT NAME IN THE UNMCHEL RECORD IS COMPARED BYTE-  *
//*       BY BYTE WITH THE CSECT NAME IN THE UNMCHCS RECORD. IF THEY*
//*       DIFFER MY ONE BYTE OR LESS, THE T2 INDICATOR IS SET TRUE. *
//*TEST3: THE LANGUAGE FIELD IS COMPARED BETWEEN THE UNMCHEL AND    *
//*       UNMCHCS RECORDS. IF EQUAL, THE T3 INDICATOR IS SET TRUE.  *
//*ALL OUTPUT RECORDS WILL CONTAIN A COMPARE CODE IN POSITION 9,    *
//*CONTAINING THE VALUE:                                            *
//*0 = THIS CSECT RECORD CONTAINS MULTIPLE MEMBER SEGMENTS.         *
//*1 = THIS RECORD FAILED TEST1. NO FURTHER TESTS WERE MADE.        *
//*2 = THIS RECORD PASSED TEST1, BUT FAILED TESTS 2 AND 3.          *
//*3 = THIS RECORD PASSED TEST1 AND TEST3, BUT FAILED TEST2.        *
//*4 = THIS RECORD PASSED TEST1 AND TEST2, BUT FAILED TEST3.        *
//*5 = THIS RECORD PASSED ALL THREE TESTS.                          *
//*******************************************************************
//SCRATCH  EXEC PGM=IDCAMS
//SYSPRINT DD SYSOUT=*
//SYSIN    DD *
 DELETE BC0THOR.TST.ELEMENT
 DELETE BC0THOR.TST.CSECT
//******************************************************************
//* SORT THE CSECT FILE IN MEMBER NAME ORDER                       *
//******************************************************************
//SORT     EXEC PGM=SORT33,PARM='CORE=MAX,MSG=AP'
//SYSUDUMP DD SYSOUT=(*,,DUMP)
//SORTIN   DD DSN=BC0THOR.TST.UNMCHCS,DISP=SHR
//SORTOUT  DD DSN=&&SORTCSCT,DISP=(,PASS),
//         UNIT=DISK,SPACE=(TRK,(15,5),RLSE)
//SORTWK01 DD UNIT=DISK,SPACE=(CYL,(5,5))
//SORTWK02 DD UNIT=DISK,SPACE=(CYL,(5,5))
//SORTWK03 DD UNIT=DISK,SPACE=(CYL,(5,5))
//SORTWK04 DD UNIT=DISK,SPACE=(CYL,(5,5))
//SORTWK05 DD UNIT=DISK,SPACE=(CYL,(5,5))
//SORTWK06 DD UNIT=DISK,SPACE=(CYL,(5,5))
//SYSOUT   DD SYSOUT=*
//SYSIN    DD *
 SORT FIELDS=(19,8,CH,A)
//******************************************************************
//* WRITE FILES WITH MATCH INDICATORS IN POSITIONS 9:              *
//******************************************************************
//CSECMCH2 EXEC PGM=CSECMCH2
//STEPLIB  DD DSN=BC0THOR.LOAD.LOAD,DISP=SHR
//         DD DSN=CEE.SCEERUN,DISP=SHR
//SYSUDUMP DD SYSOUT=*
//SYSPRINT DD SYSOUT=*,RECFM=FB,LRECL=72,BLKSIZE=72
//UNMCHCS  DD DSN=&&SORTCSCT,DISP=(OLD,PASS,DELETE)
//UNMCHEL  DD DSN=BC0THOR.TST.UNMCHEL,DISP=SHR
//ELEMENT  DD DSN=BC0THOR.TST.ELEMENT,DISP=(,CATLG),
//         UNIT=DISK,SPACE=(TRK,(15,5),RLSE),
//         RECFM=FB,LRECL=80
//CSECT    DD DSN=BC0THOR.TST.CSECT,DISP=(,CATLG),
//         UNIT=DISK,SPACE=(TRK,(15,5),RLSE),
//         RECFM=VB,LRECL=27992,BLKSIZE=27996
