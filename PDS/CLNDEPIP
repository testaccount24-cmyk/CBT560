//BC0THORI JOB (1152002-9800039,,TMVS01-UR-XXXX),'DTHORNTON',CLASS=V,
//   MSGCLASS=Y,NOTIFY=BC0THOR,REGION=104M
//JESOUT OUTPUT GROUPID=HDQTRSF2,DEFAULT=YES,JESDS=ALL,
//   PAGEDEF=GRYBIG,FORMDEF=GRYBIG
//*******************************************************************
//*          BC0THOR.PDS.JCL(CLNDEPIP)                              *
//*   THIS JCL FROM CHIPST.TST.IMSX.JCLLIB(DEPICLON)                *
//*******************************************************************
//*
//*******************************************************************
//* COPY THE ORIGINAL LOAD MODULE TO BC0THOR.LOAD.LOAD              *
//*******************************************************************
//IEBCOPY  EXEC PGM=IEBCOPY,REGION=2048K
//SYSPRINT DD  SYSOUT=*
//IN       DD  DSN=USER45.LOAD.LOAD,DISP=SHR
//OUT      DD  DSN=BC0THOR.LOAD.LOAD,DISP=SHR
//SYSIN    DD  *
   COPY  OUTDD=OUT,INDD=((IN,R))
   S M=CLNDEPIP
//*******************************************************************
//* MODIFY THE LOAD MODULE TO FORCE AN ABEND                        *
//*******************************************************************
//AMASPZAP  EXEC PGM=AMASPZAP
//SYSPRINT  DD   SYSOUT=*
//SYSLIB    DD   DISP=SHR,DSN=BC0THOR.LOAD.LOAD
//SYSIN     DD   *
 NAME CLNDEPIP CLNDEPIP
 VER 0E36 055F
 REP 0E36 0000
//*******************************************************************
//* SCRATCH ANY PREVIOUS OUTPUT DATASETS                            *
//*******************************************************************
//SCRATCH  EXEC PGM=IDCAMS,COND=((4,LE,IEBCOPY),(4,LE,AMASPZAP))
//SYSPRINT DD SYSOUT=*
//SYSIN    DD *
 DELETE BC0THOR.TST.CLNDEPIP
 DELETE BC0THOR.TST.DEPICLON
//**********************************************************
//*   THE FOLLOWING DSET (SORTOUT) IS THE 'SORTED'         *
//*   INPUT TO THIS JOB. (WHICH IS ACTUALLY THE  SUB       *
//*   NUMBERS THAT CAME OUT OF 'CLONE' JCL) PREV 'SORTIN'  *
//*                                                        *
//*         SYNCSORT WILL DELETE ALL DUPLICATES            *
//**********************************************************
//SYNCSORT EXEC PGM=SYNCSORT,COND=((4,LE,IEBCOPY),(4,LE,AMASPZAP))
//SYSOUT   DD     SYSOUT=*
//SORTIN   DD     DSN=CHIPST.TST.DEPICLON.DATA1,DISP=SHR
//SORTOUT  DD DSN=BC0THOR.TST.CLNDEPIP,
//            DISP=(,CATLG,DELETE),
//            UNIT=DISK,SPACE=(CYL,(1,1),RLSE),
//            DCB=(RECFM=FB,LRECL=80,BLKSIZE=23440)
//SORTWK01 DD     SPACE=(CYL,5),UNIT=DISK
//SYSIN    DD     *
     INREC FIELDS=(1,15)
     SORT  FIELDS=(1,15,CH,A)
     SUM   FIELDS=NONE
//***********************************************************
//*  THIS JCL USES HELCLONE:  THE CLONING PROGRAM (99 X'S)  *
//*                                                         *
//*  INPUT1 =  THE SUBSCRIBER NUMBERS AND DEPENDENT NUMBER  *
//*  INPUT2 =  THE FAMILY PARTITION THE CLONE WILL          *
//*            TAKE PLACE IN                                *
//*                                                         *
//*  CHANGE INPUT2 TO MATCH THE REGULAR CLONING SCHEME      *
//***********************************************************
//*   THE FOLLOWING DSET (OUTPUT1) IS THE RESULT OF THE     *
//*   DEPENDENT (DEPI) CLONE. THE DSET HAS A QUALIFIER OF   *
//*   'TST' SO THAT IT IS NOT MANAGED BY 'SMS' AND          *
//*   DELETED AT NIGHT.                                     *
//***********************************************************
//CLNDEPI EXEC  PGM=DFSRRC00,REGION=4096K,
//          PARM=(DLI,CLNDEPIP,DEPICLON),
// COND=((4,LE,IEBCOPY),(4,LE,AMASPZAP),(4,LE,SYNCSORT))
//STEPLIB  DD DSN=IMS.IMST.OEMRES,DISP=SHR
//         DD DSN=IMS.IMST.RESLIB,DISP=SHR
//         DD DSN=BC0THOR.LOAD.LOAD,DISP=SHR
//IMS      DD DSN=CHIPST.TRAIN.PSBLIB,DISP=SHR
//         DD DSN=IMS.IMSX.DBDLIB,DISP=SHR
//IEFRDER  DD DUMMY
//PROCLIB  DD DSN=IMS.IMST.PROCLIB,DISP=SHR
//DFSRESLB DD DSN=IMS.IMST.RESLIB,DISP=SHR
//DFSVSAMP DD DSN=EMVSP.OUTPUT.UTILDATA(VSAMBFJP),DISP=SHR
//SYSOUT   DD SYSOUT=*
//SYSUDUMP DD SYSOUT=*
//ABNLDUMP DD DUMMY
//PRINT1   DD SYSOUT=*
//INPUT1   DD DSN=BC0THOR.TST.CLNDEPIP,DISP=SHR
//INPUT2   DD DSN=CHIPST.TRAIN.JCLLIB(CLNRCRG1),DISP=SHR                090009
//OUTPUT1  DD DSN=BC0THOR.TST.DEPICLON,DISP=(,CATLG),
//         UNIT=DISK,SPACE=(CYL,(5,1),RLSE),
//         RECFM=FB,LRECL=132,BLKSIZE=27984
//RDDEPI00 DD DSN=DBTEST.CHIPS.IMSX.RDDEPI00,DISP=SHR
//RDDEPI10 DD DSN=DBTEST.CHIPS.IMSX.RDDEPI10,DISP=SHR
//RDDEPI20 DD DSN=DBTEST.CHIPS.IMSX.RDDEPI20,DISP=SHR
//RDDEPI30 DD DSN=DBTEST.CHIPS.IMSX.RDDEPI30,DISP=SHR
//RDDEPI40 DD DSN=DBTEST.CHIPS.IMSX.RDDEPI40,DISP=SHR
//RDDEPI50 DD DSN=DBTEST.CHIPS.IMSX.RDDEPI50,DISP=SHR
//RDDEPI60 DD DSN=DBTEST.CHIPS.IMSX.RDDEPI60,DISP=SHR
//RDDEPI70 DD DSN=DBTEST.CHIPS.IMSX.RDDEPI70,DISP=SHR
//RDDEPI80 DD DSN=DBTEST.CHIPS.IMSX.RDDEPI80,DISP=SHR
//RDDEPI90 DD DSN=DBTEST.CHIPS.IMSX.RDDEPI90,DISP=SHR
//RDDEPIA0 DD DSN=DBTEST.CHIPS.IMSX.RDDEPIA0,DISP=SHR
//RDDEPIB0 DD DSN=DBTEST.CHIPS.IMSX.RDDEPIB0,DISP=SHR
//RDDEPIC0 DD DSN=DBTEST.CHIPS.IMSX.RDDEPIC0,DISP=SHR
//RDDEPID0 DD DSN=DBTEST.CHIPS.IMSX.RDDEPID0,DISP=SHR
//RDDEPIE0 DD DSN=DBTEST.CHIPS.IMSX.RDDEPIE0,DISP=SHR
//RDDEPIF0 DD DSN=DBTEST.CHIPS.IMSX.RDDEPIF0,DISP=SHR
//RDDEPIG0 DD DSN=DBTEST.CHIPS.IMSX.RDDEPIG0,DISP=SHR
//RDDEPIH0 DD DSN=DBTEST.CHIPS.IMSX.RDDEPIH0,DISP=SHR
//RDDEPII0 DD DSN=DBTEST.CHIPS.IMSX.RDDEPII0,DISP=SHR
//RDDEPIJ0 DD DSN=DBTEST.CHIPS.IMSX.RDDEPIJ0,DISP=SHR
